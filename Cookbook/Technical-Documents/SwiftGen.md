## SwiftGen

[SwiftGen](https://github.com/SwiftGen/SwiftGen) allows plenty of possibilities to automatically generate code based on resources we store in our project. Following sections will describe which types of resources are currently integrated with SwiftGen and how to use them.

### Image assets

Using icons and images with our SwiftGen integration is really easy. The only thing you have to do is to add the image to `BabylonDesignLibrary/DesignLibrary/Assets.xcassets` and then you can just use it by calling `appearance.tokens.icons.image(.myNewIcon)`. Before compilation of `BabylonDesignLibrary`, SwiftGen is executed and regenerates the identifiers.
If you name your icon with camel case style (e.g. `MyNewIcon`), the same name will be generated. If you choose snake case style (e.g. `my_new_icon`), SwiftGen will generate a camel-cased identifier from it (e.g. `myNewIcon`).

#### Overriding icons in white label apps

This is the method generated by SwiftGen which is used to access UIImages:
```
public static func image(_ name: Name) -> UIImage {
	return image(name, bundle: .main) 
}

public static func image(_ name: Name, bundle: Bundle) -> UIImage {
	let iconsBundle = Bundle(for: IconsBundleToken.self)
	guard let result = UIImage(named: name.rawValue, in: bundle, compatibleWith: nil)
		?? UIImage(named: name.rawValue, in: iconsBundle, compatibleWith: nil) else {
		 fatalError("Unable to load image named \(name).") 
	}
	return result
}
```
The method without specifying bundle automatically chooses `Bundle.main`. The algorithm is the following:
1. The method checks if the icon is present in the assets catalog of the main bundle. In most cases it will be the white label app bundle (this allows overriding the icon for specific app).
2. If the icon is not there it takes icon from DesignLibrary assets catalog.
3. In other case `fatalError` is called, but this situation is impossible because icon has to be in DesignLibrary assets catalog because SwiftGen created identifier for it. (If icon is deleted SwiftGen will regenerate file without identifier for that icon).

When some app overrides icon with the same name in its assets catalog but it still would like to use icon from DesignLibrary in other case it can specify bundle: `Bundle(for: IconsBundleToken.self)` and it will enforce that image from DesignLibrary assets catalog will retrieved.
